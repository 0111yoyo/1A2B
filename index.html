<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta charset="UTF-8">
    <script src="https://kit.fontawesome.com/5223ebc999.js" crossorigin="anonymous"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1A2B 對戰版</title>
    <link rel="shortcut icon" href="https://i.ibb.co/vJ42VtN/ia2b-001.png" type="image/x-icon" />
    <meta name="1A2B" content="訓練邏輯與耐心的好遊戲！">
    <meta property="og:title" content="1A2B遊戲" />
    <meta property="og:image" content="https://i.ibb.co/3RxtDV9/001.png" />
    <meta property="og:description" content="訓練邏輯與耐心的好遊戲！" />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">
    </script>
</head>
<link rel="stylesheet" href="index.css">

<body>
    <div class="container">
        <div class="infobtn"><i class="fas fa-info"></i></div>
        <div class="logo">
            <div class="block block1">1</div>
            <div class="block block2">A</div>
            <div class="block block1">2</div>
            <div class="block block2">B</div>
        </div>
        <div class="text">訓練邏輯與耐心的好遊戲！</div>
        <div class="circle">
            <div class="pic" src="https://i.ibb.co/4NQ4MHZ/testlogo-001-2.png"></div>
        </div>
        <div class="name">
            <input id="nickname" placeholder="請輸入玩家暱稱..." />
        </div>
        <div class="startbtn">遊戲開始</div>
        <div class="rankLink"><i class="fas fa-crown"></i> 高手風雲榜</div>
    </div>
    <div class="popupinfo">
        <div class="close"><i class="fas fa-times"></i></div>
        <p class="title"> <span class="boldname">1A2B猜數字</span>是流傳甚久的密碼破譯類益智小遊戲</p>
        <p class="rule">遊戲規則</p>
        <p class="1">① 猜4個不重複的數字</p>
        <p class="2">② A 代表數字、位置皆對；B 代表數字對、但位置不對</p>
        <span class="ex1">例：答案為4265時，猜4268，顯示3A0B。</span>
        <span class="ex2">例：答案為8745時，猜8704，顯示2A1B。</span>
        <p class="3">③ 挑戰者有10次挑戰機會，來挑戰看看吧！</p>
    </div>

    <div id="battle-controls">
        <h3>線上對戰模式</h3>
        <div id="status">未連線</div>

        <!-- 配對按鈕 -->
        <button id="btn-find-match">尋找對手</button>

        <!-- 出題區域 (配對成功後顯示) -->
        <div id="question-area" style="display:none;">
            <h4>給對手出題:</h4>
            <input type="text" id="my-question" placeholder="輸入4位數字" maxlength="4">
            <button id="btn-send-question">送出題目</button>
        </div>

        <!-- 對戰訊息 -->
        <div id="battle-log"></div>
    </div>

    <!-- 引入 Socket.io 客戶端 -->
    <script src="/socket.io/socket.io.js"></script>
</body>
<script src="./script/setting.js"></script>
<script>
    $(document).ready(function () {
        $('.popupinfo').hide();
        const nickname = getNickName();
        $('#nickname').val(nickname);
    });

    $('.startbtn').click(function () {
        const nickname = $('#nickname').val();
        if (nickname.trim() === '') {
            alert('請輸入暱稱');
            return;
        }
        saveNickName(nickname);
        window.location.href = "./playpage.html";
    });

    $('.infobtn').click(function () {
        $(".popupinfo").toggle();
    });
    $('.close').click(function () {
        $('.popupinfo').hide();
    });    
    $('.rankLink').click(function () {
        window.location.href = "./rank.html";
    })
</script>

</html>
